<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>git-ribbon</title>
  <meta name="description" content="I wrote a little Perl script calledgit-ribbon to help me review thelatest changes in a git repository.">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://blog.kablamo.org/2013/02/02/git-ribbon/">
  <link rel="alternate" type="application/rss+xml" title="kablamo" href="http://blog.kablamo.org/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/"><span class="site-title-bold">kablamo</span></a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
          <a class="page-link" href="/about">About</a>
          <a class="page-link" href="/categories/perl">Perl</a>
          <a class="page-link" href="/categories/experiments">Experiments</a>
          <a class="page-link" href="/talks">Talks</a>
          <a class="page-link" href="/reading-list">What I'm reading</a>
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <header class="post-header">
  <h1 class="post-title">git-ribbon</h1>
  <p class="post-meta">
  
    <a href="/categories/perl">perl</a>&nbsp;
  
  &nbsp;&nbsp;
  2013-02-02
  </p>
</header>

<div class="wrapper">
<div class="post">
  <article class="post-content">
    <p>I wrote a little Perl script called
<a href="https://github.com/kablamo/git-ribbon">git-ribbon</a> to help me review the
latest changes in a git repository.</p>

<p>The way I used to review changes was by reading through the <code>git log</code>.  I try
to do this every morning at work to keep up with whats going on.  But I was
having a few problems:</p>

<ol>
  <li>Its hard to know exactly which changes are new.</li>
  <li>I want to review commits in the order they happened (instead of most recent first).</li>
  <li><code>git log</code> diff output can be hard to read and may not have enough context
– sometimes I want a side by side diff like I get from <code>vimdiff</code> or <code>git
difftool</code>.</li>
</ol>

<p>Basically I wanted a quick and easy way to review the latest changes in a way
that feels a little more like an RSS feed.  So I wrote this script.</p>

<h2 id="how-to-use-git-ribbon">How to use git-ribbon</h2>

<p><strong>First</strong> mark your current place in the commit history.  This command will
place a tag named _ribbon at origin/master.  Basically its a bookmark at your
current location.</p>

<pre><code>⚡ git ribbon --save
</code></pre>

<p><strong>Next</strong>, pull the latest changes made by your fellow conspirators from the
remote repository.</p>

<pre><code>⚡ git pull
</code></pre>

<p><strong>Then</strong> use <code>git ribbon</code> to review only the changes that have occurred since _ribbon:</p>

<pre><code>⚡ git ribbon
Eric Johnson 6 weeks ago ecf43db
Css tweaks.
root/html/calculator/realCost.tt

press 's' to skip 

Eric Johnson 4 weeks ago 9595fa0
fix css margin class.
root/css/networth.css
root/css/style.less
root/css/style.less.old
root/html/calculator/realCost.tt
root/html/fi.tt

press 's' to skip 

Eric Johnson 2 weeks ago 5ef0fb2
Added daysPerYear.
lib/Networth/Controller/Calculator.pm
lib/Networth/Out/RealCost.pm
root/html/calculator/realCost.tt

press 's' to skip 
</code></pre>

<p>The script will pause and wait for input when it prints <code>press 's' to skip</code>.
If you type anything other than <code>s</code>, it will show you the side by side diff
using <code>git difftool</code>.</p>

<p><a href="http://farm9.staticflickr.com/8107/8457314152_7f8b3c955c_b.jpg" title="click to view large version"><img src="http://farm9.staticflickr.com/8107/8457314152_7f8b3c955c.jpg" width="500" height="201" alt="vimdiff" /></a></p>

<p>After you have reviewed all the changes, be sure to mark your place again so
its ready to go next time you want to do a pull:</p>

<pre><code>git ribbon --save
</code></pre>

<h2 id="bonus-tips">Bonus tips</h2>

<p>In your .gitconfig try this:</p>

<pre><code>[diff]
    tool = vimdiff
</code></pre>

<p>The default colors for vimdiff look like they were created by strange clowns so
try this instead:</p>

<pre><code>⚡ mkdir -p ~/.vim/colors/
⚡ wget https://github.com/kablamo/dotfiles/blob/master/links/.vim/colors/iijo.vim -O ~/.vim/colors/iijo.vim
⚡ echo "colorscheme iijo" &gt;&gt; ~/.vimrc
</code></pre>

<p>Then learn to use vimdiff:</p>

<ul>
  <li>To switch windows type <code>ctl-w l</code> and <code>ctl-w h</code>. 
For more help type <code>:help window-move-cursor</code>.</li>
  <li>To open and close folds type <code>zo</code> and <code>zc</code>. 
For more help type <code>:help fold-commands</code>.</li>
  <li>To close vimdiff with less typing try <code>ZZ</code>.</li>
</ul>

<h2 id="alternatives-to-vimdiff">Alternatives to vimdiff</h2>

<p>If you don’t want to invest the time just yet to learn vim, use an alternative like meld, opendiff,
p4merge, xxdiff, etc.  Side by side diffs are worth it!</p>

<h2 id="see-also">See also</h2>

<p>This script was inspired by a great <a href="http://gitready.com/advanced/2011/10/21/ribbon-and-catchup-reading-new-commits.html">blog
post</a>
on gitready.com which has a number of awesome git tricks for both beginners and
advanced users.</p>

<p>I also ended up writing a <a href="https://github.com/kablamo/vim-ribbon">vim plugin</a>
that is probably better user experience if you very comfortable in vim.</p>


  </article>


  <section>
    <div id="disqus_thread" aria-live="polite">
        <noscript>Please enable JavaScript to view the 
            <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
    </div>
  </section>


</div>


<script type="text/javascript">
      var disqus_shortname = 'kablamo';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.kablamo.org/2013/02/02/git-ribbon/';
        var disqus_url = 'http://blog.kablamo.org/2013/02/02/git-ribbon/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>

</div>

    </div>

    

  </body>

</html>
